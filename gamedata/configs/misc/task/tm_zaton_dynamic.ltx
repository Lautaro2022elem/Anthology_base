
;//////////////////////////////////////////////////////////////////////////////////////////////////
;
; DYNAMIC TASKS
;
;	Modified by DoctorX
;	for DoctorX Questlines 1.6
;	October 06, 2016
;
;--------------------------------------------------------------------------------------------------

;------------------------------------------------
; Beard (Loner Trader) Clear Mutants from Skadovsk Task-

[zat_a2_stalker_barmen_task_1]

icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
repeat_timeout = 16200
precondition = false

title = zat_a2_stalker_barmen_task_1_name
descr = zat_a2_stalker_barmen_task_1_text
job_descr = zat_a2_stalker_barmen_task_1_about
task_complete_descr = zat_a2_stalker_barmen_task_1_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster, monster_predatory_day, monster_predatory_night, monster_vegetarian, monster_zombied_day, monster_zombied_night, monster_special
condlist_0 = {!task_giver_alive(zat_a2_stalker_barmen_task_1)} fail

on_job_descr = %=setup_assault_task(zat_a2_stalker_barmen_task_1)%
on_complete = %=reward_random_money(6000:6500) =reward_item(vodka) =reward_stash(true) =give_letter(recipe_cooking_1) =complete_task_inc_goodwill(50:stalker) =inc_task_stage(zat_a2_stalker_barmen_task_1) =drx_sl_unregister_task_giver(zat_a2_stalker_barmen_task_1) =drx_sl_reset_stored_task(zat_a2_stalker_barmen_task_1)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =drx_sl_unregister_task_giver(zat_a2_stalker_barmen_task_1) =drx_sl_reset_stored_task(zat_a2_stalker_barmen_task_1)%

;------------------------------------------------
; Beard (Loner Trader) Find Artefact Task-

[zat_a2_stalker_barmen_task_2]

icon = ui_inGame2_Kontrakt_s_uchenimi
storyline = false
prior = 25
repeat_timeout = 16200
;precondition = true

title = zat_a2_stalker_barmen_task_2_name
title_functor = general_fetch_task
descr = zat_a2_stalker_barmen_task_2_text
descr_functor = general_fetch_task
job_descr = zat_a2_stalker_barmen_task_2_about
fetch_descr = zat_a2_stalker_barmen_task_2_fetch_about
task_complete_descr = zat_a2_stalker_barmen_task_2_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(zat_a2_stalker_barmen_task_2)} fail

fetch_func = %=setup_fetch_task(zat_a2_stalker_barmen_task_2_fetch:artefacts:1:1)%
on_complete = %=fetch_reward_and_remove(zat_a2_stalker_barmen_task_2_fetch:1.4) =reward_item(vodka) =reward_stash(true) =give_letter(recipe_cooking_1) =complete_task_inc_goodwill(50:stalker) =inc_task_stage(zat_a2_stalker_barmen_task_2) =pstor_reset(zat_a2_stalker_barmen_task_2_fetch) =drx_sl_unregister_task_giver(zat_a2_stalker_barmen_task_2) =drx_sl_reset_stored_task(zat_a2_stalker_barmen_task_2)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =pstor_reset(zat_a2_stalker_barmen_task_2_fetch) =drx_sl_unregister_task_giver(zat_a2_stalker_barmen_task_2) =drx_sl_reset_stored_task(zat_a2_stalker_barmen_task_2)%

;------------------------------------------------
; Beard (Loner Trader) Diplomat Task-

[zat_a2_stalker_barmen_task_3]

icon = ui_inGame2_Razgovor_s_glazu_na_glaz
storyline = false
prior = 45
repeat_timeout = 16200
;precondition = true

title = zat_a2_stalker_barmen_task_3_name
descr = zat_a2_stalker_barmen_task_3_text
job_descr = zat_a2_stalker_barmen_task_3_about
task_complete_descr = zat_a2_stalker_barmen_task_3_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(zat_a2_stalker_barmen_task_3)} fail

on_job_descr = %=setup_bounty_task(zat_a2_stalker_barmen_task_3:false:true:army)%
on_complete = %=reward_random_money(7000:7500) =reward_item(vodka) =reward_stash(true) =give_letter(recipe_cooking_1) =complete_task_inc_goodwill(50:stalker) =inc_task_stage(zat_a2_stalker_barmen_task_3) =drx_sl_unregister_task_giver(zat_a2_stalker_barmen_task_3) =drx_sl_reset_stored_task(zat_a2_stalker_barmen_task_3)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =drx_sl_unregister_task_giver(zat_a2_stalker_barmen_task_3) =drx_sl_reset_stored_task(zat_a2_stalker_barmen_task_3)%

; \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


;//////////////////////////////////////////////////////////////////////////////////////////////////
;
; MECHANIC TASKS
;
;	Modified by DoctorX
;	for DoctorX Questlines 1.6
;	October 06, 2016
;
;--------------------------------------------------------------------------------------------------

;------------------------------------------------
; Cardan (Loner Mechanic) Find Level 1 Toolkit Task-

[zat_a2_stalker_mechanic_task_1]

icon = ui_inGame2_Instrumenti
storyline = false
prior = 15
precondition = {-zat_a2_stalker_mechanic_upgrade_tier_1} true, false

title = zat_a2_stalker_mechanic_task_1_name
title_functor = general_fetch_task
descr = zat_a2_stalker_mechanic_task_1_text
descr_functor = general_fetch_task
job_descr = zat_a2_stalker_mechanic_task_1_about
fetch_descr = zat_a2_stalker_mechanic_task_1_fetch_about
task_complete_descr = zat_a2_stalker_mechanic_task_1_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(zat_a2_stalker_mechanic_task_1)} fail

fetch_func = %=setup_generic_fetch_task(zat_a2_stalker_mechanic_task_1_fetch:1:itm_basickit)%
on_complete = %=complete_task_inc_goodwill(50:stalker) =fetch_reward_and_remove(zat_a2_stalker_mechanic_task_1_fetch) =inc_task_stage(zat_a2_stalker_mechanic_task_1) +zat_a2_stalker_mechanic_upgrade_tier_1 =drx_sl_unregister_task_giver(zat_a2_stalker_mechanic_task_1)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =drx_sl_unregister_task_giver(zat_a2_stalker_mechanic_task_1)%

;------------------------------------------------
; Cardan (Loner Mechanic) Find Level 2 Toolkit Task-

[zat_a2_stalker_mechanic_task_2]

icon = ui_inGame2_Instrumenti
storyline = false
prior = 16
precondition = {+zat_a2_stalker_mechanic_upgrade_tier_1 -zat_a2_stalker_mechanic_upgrade_tier_2} true, false

title = zat_a2_stalker_mechanic_task_2_name
title_functor = general_fetch_task
descr = zat_a2_stalker_mechanic_task_2_text
descr_functor = general_fetch_task
job_descr = zat_a2_stalker_mechanic_task_2_about
fetch_descr = zat_a2_stalker_mechanic_task_2_fetch_about
task_complete_descr = zat_a2_stalker_mechanic_task_2_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(zat_a2_stalker_mechanic_task_2)} fail

fetch_func = %=setup_generic_fetch_task(zat_a2_stalker_mechanic_task_2_fetch:1:itm_advancedkit)%
on_complete = %=complete_task_inc_goodwill(50:stalker) =fetch_reward_and_remove(zat_a2_stalker_mechanic_task_2_fetch) =inc_task_stage(zat_a2_stalker_mechanic_task_2) +zat_a2_stalker_mechanic_upgrade_tier_2 =drx_sl_unregister_task_giver(zat_a2_stalker_mechanic_task_2)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =drx_sl_unregister_task_giver(zat_a2_stalker_mechanic_task_2)%

;------------------------------------------------
; Cardan (Loner Mechanic) Find Level 3 Toolkit Task-

[zat_a2_stalker_mechanic_task_3]

icon = ui_inGame2_Instrumenti
storyline = false
prior = 17
precondition = {+zat_a2_stalker_mechanic_upgrade_tier_2 -zat_a2_stalker_mechanic_upgrade_tier_3} true, false

title = zat_a2_stalker_mechanic_task_3_name
title_functor = general_fetch_task
descr = zat_a2_stalker_mechanic_task_3_text
descr_functor = general_fetch_task
job_descr = zat_a2_stalker_mechanic_task_3_about
fetch_descr = zat_a2_stalker_mechanic_task_3_fetch_about
task_complete_descr = zat_a2_stalker_mechanic_task_3_fetch_finish

stage_complete = 1
target_functor = general_fetch_task
status_functor = actor_has_fetch_item
condlist_0 = {!task_giver_alive(zat_a2_stalker_mechanic_task_3)} fail

fetch_func = %=setup_generic_fetch_task(zat_a2_stalker_mechanic_task_3_fetch:1:itm_expertkit)%
on_complete = %=complete_task_inc_goodwill(50:stalker) =fetch_reward_and_remove(zat_a2_stalker_mechanic_task_3_fetch) =inc_task_stage(zat_a2_stalker_mechanic_task_3) +zat_a2_stalker_mechanic_upgrade_tier_3 =drx_sl_unregister_task_giver(zat_a2_stalker_mechanic_task_3)%
on_fail = %=fail_task_dec_goodwill(25:stalker) =drx_sl_unregister_task_giver(zat_a2_stalker_mechanic_task_3)%

; \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\


[task_noah_1]
icon = ui_icons_cordon22
prior = 20
storyline = false
title = {=actor_has_item(wpn_protecta)} task_noah_1_2, task_noah_1_1
descr = task_noah_1_descr
target = {=actor_has_item(wpn_protecta)} zat_b18_noah, nil
condlist_0 = {+task_1_noah_done} complete, {+zat_b18_noah_squad_death} fail


[task_noah_2]
icon = ui_icons_face_snork5
prior = 20
storyline = false
title = {+simulation_snork_task_noah_2_death} task_noah_2_3, {+task_noah_2_target} task_noah_2_2, task_noah_2_1
descr = task_noah_2_descr
target = {+simulation_snork_task_noah_2_death} zat_b18_noah, {+task_noah_2_target} simulation_snork_task_noah_2, zat_b20_teleport_mapspot
on_init = %=create_squad(simulation_snork_task_noah_2:zat_b28)%
condlist_0 = {+task_2_noah_done} complete, {+zat_b18_noah_squad_death} fail


[zat_stancia_trader_merc_task_1]
icon = ui_iconsTotal_find_item
prior = 90
repeat_timeout = 10800
storyline = false
title = zat_stancia_trader_merc_task_1_name
title_functor = general_fetch_task
descr = zat_stancia_trader_merc_task_1_text
descr_functor = general_fetch_task
job_descr = zat_stancia_trader_merc_task_1_about
fetch_descr = zat_stancia_trader_merc_task_1_fetch_about
fetch_func = %=setup_fetch_task(zat_stancia_trader_merc_task_1_fetch:supplies:10:15)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = zat_stancia_trader_merc_task_1_fetch_finish
;precondition = true
on_complete = %=complete_task_inc_goodwill(50:killer) =reward_stash(true) =fetch_reward_and_remove(zat_stancia_trader_merc_task_1_fetch:1.25) =inc_task_stage(zat_stancia_trader_merc) =pstor_reset(zat_stancia_trader_merc_task_1_fetch)%
on_fail = %=pstor_reset(zat_stancia_trader_merc_task_1_fetch)%
condlist_0 = {!task_giver_alive(zat_stancia_trader_merc_task_1)} fail
