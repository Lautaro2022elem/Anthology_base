
;//////////////////////////////////////////////////////////////////////////////////////////////////
;
; DYNAMIC TASKS
;
;	Modified by DoctorX
;	for DoctorX Questlines 1.6
;	October 06, 2016
;
;--------------------------------------------------------------------------------------------------

;------------------------------------------------
; Sultan (Bandit Honcho) Mob Hit Task-

[zat_b7_bandit_boss_sultan_task_1]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
repeat_timeout = 16200
;precondition = true
title = zat_b7_bandit_boss_sultan_task_1_name
descr = zat_b7_bandit_boss_sultan_task_1_text
job_descr = zat_b7_bandit_boss_sultan_task_1_about
task_complete_descr = zat_b7_bandit_boss_sultan_task_1_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(zat_b7_bandit_boss_sultan_task_1)} fail

on_job_descr = %=setup_bounty_task(zat_b7_bandit_boss_sultan_task_1:true:false:bandit)%
on_complete = %=reward_random_money(8500:9000) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(zat_b7_bandit_boss_sultan_task_1) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_1) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_1)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_1) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_1)%

;------------------------------------------------
; Sultan (Bandit Honcho) Eliminate Military Presence Dynamic Task-

[zat_b7_bandit_boss_sultan_task_2]

icon = ui_inGame2_Issledovanie_anomaliy
storyline = false
prior = 85
repeat_timeout = 16200
precondition = {=validate_assault_task(zat_b7_bandit_boss_sultan_task_2:1:1:nil:false:true:nil)} true, false

title = zat_b7_bandit_boss_sultan_task_2_name
descr = zat_b7_bandit_boss_sultan_task_2_text
job_descr = zat_b7_bandit_boss_sultan_task_2_about
task_complete_descr = zat_b7_bandit_boss_sultan_task_2_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = army
condlist_0 = {!task_giver_alive(zat_b7_bandit_boss_sultan_task_2)} fail

on_job_descr = %=setup_assault_task(zat_b7_bandit_boss_sultan_task_2)%
on_complete = %=reward_random_money(8000:8500) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(zat_b7_bandit_boss_sultan_task_2) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_2) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_2)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_2) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_2)%

;------------------------------------------------
; Sultan (Bandit Honcho) Stalker Elimination Dynamic Task-

[zat_b7_bandit_boss_sultan_task_3]
icon = ui_inGame2_PD_Lider
storyline = false
prior = 75
repeat_timeout = 16200
precondition = {=validate_assault_task(zat_b7_bandit_boss_sultan_task_3:2:1:nil:false:true:nil)} true, false
title = zat_b7_bandit_boss_sultan_task_3_name
descr = zat_b7_bandit_boss_sultan_task_3_text
job_descr = zat_b7_bandit_boss_sultan_task_3_about
task_complete_descr = zat_b7_bandit_boss_sultan_task_3_finish
stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = stalker
condlist_0 = {!task_giver_alive(zat_b7_bandit_boss_sultan_task_3)} fail
on_job_descr = %=setup_assault_task(zat_b7_bandit_boss_sultan_task_3)%
on_complete = %=reward_random_money(8500:9000) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(zat_b7_bandit_boss_sultan_task_3) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_3) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_3)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_3) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_3)%


[zat_b7_bandit_boss_sultan_task_4]
icon = ui_iconsTotal_find_item
prior = 90
repeat_timeout = 8000
storyline = false
title = zat_b7_bandit_boss_sultan_task_4_name
title_functor = general_fetch_task
descr = zat_b7_bandit_boss_sultan_task_4_text
descr_functor = general_fetch_task
job_descr = zat_b7_bandit_boss_sultan_task_4_about
fetch_descr = zat_b7_bandit_boss_sultan_task_4_fetch_about
fetch_func = %=setup_fetch_task(zat_b7_bandit_boss_sultan_task_4_fetch:patch_mlr_bandit:15:20)%
stage_complete = 1
status_functor = actor_has_fetch_item
target_functor = general_fetch_task
task_complete_descr = zat_b7_bandit_boss_sultan_task_4_fetch_finish
;precondition = true
on_complete = %=complete_task_inc_goodwill(50:bandit) =reward_stash(true) =reward_random_money(7000:8000) =remove_fetch_item(zat_b7_bandit_boss_sultan_task_4_fetch) =inc_task_stage(zat_b7_bandit_boss_sultan_task_4) =pstor_reset(zat_b7_bandit_boss_sultan_task_4_fetch)%
on_fail = %=pstor_reset(zat_b7_bandit_boss_sultan_task_4_fetch)%
condlist_0 = {!task_giver_alive(zat_b7_bandit_boss_sultan)} fail


;-- Sultan (Bandit Honcho) Unwelcome in the Hood Lost to the Zone Task 1-
[zat_b7_bandit_boss_sultan_task_5]
icon = ui_icons_base_attack24
prior = 35
storyline = false
repeat_timeout = 43200
title = zat_b7_bandit_boss_sultan_task_5_name
descr = zat_b7_bandit_boss_sultan_task_5_text
job_descr = zat_b7_bandit_boss_sultan_task_5_about
task_complete_descr = zat_b7_bandit_boss_sultan_task_5_finish
status_functor = special_steps_for_lostzone_tasks
stage_complete = 1
target_functor = task_targets_lostzone_all

on_init = %=create_squad(boss_sultan_task_5_stalkers:val_smart_terrain_4_0) =setup_companion_task(boss_sultan_task_5_bandits:val_smart_terrain_7_4)%
on_complete = %=reward_random_money(5000:7000) =remove_special_task_squad(boss_sultan_task_5_bandits) =reward_stash(true) =inc_task_stage(zat_b7_bandit_boss_sultan_task_5) =complete_task_inc_goodwill(50:bandit) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_5) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_5) -boss_sultan_task_5_stalkers_death%
on_fail = %=remove_special_task_squad(boss_sultan_task_5_bandits) =fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_5) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_5) -boss_sultan_task_5_stalkers_death%
on_cancel = %=remove_special_task_squad(boss_sultan_task_5_bandits) =fail_task_dec_goodwill(25:bandit) -boss_sultan_task_5_stalkers_death%
condlist_0 = {!task_giver_alive(zat_b7_bandit_boss_sultan_task_5)} fail

;-- Sultan (Bandit Honcho) Night Terror Lost to the Zone Task 2-
[zat_b7_bandit_boss_sultan_task_6]
icon = ui_icons_bloodsucker15
storyline = false
prior = 65
repeat_timeout = 43200
precondition = {=is_night -special_bloodsucker_task3_squad_dead} true, false

title = zat_b7_bandit_boss_sultan_task_6_name
descr = zat_b7_bandit_boss_sultan_task_6_text
job_descr = zat_b7_bandit_boss_sultan_task_6_about
task_complete_descr = zat_b7_bandit_boss_sultan_task_6_finish
status_functor = special_steps_for_lostzone_tasks
stage_complete = 1
target_functor = task_targets_lostzone_all

on_init = %=create_squad(special_bloodsucker_task3_squad:val_smart_terrain_6_4)%
on_complete = %=reward_random_money(6000:8000) =reward_stash(true) =inc_task_stage(zat_b7_bandit_boss_sultan_task_6) =complete_task_inc_goodwill(50:bandit) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_6) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_6)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(zat_b7_bandit_boss_sultan_task_6) =drx_sl_reset_stored_task(zat_b7_bandit_boss_sultan_task_6)%
condlist_0 = {!task_giver_alive(zat_b7_bandit_boss_sultan_task_6)} fail

;------------------------------------------------
;Olivius (Bandit Trader) Eliminate Mutants Task-

[val_smart_terrain_7_4_bandit_trader_stalker_task_1]

icon = ui_inGame2_Nochnaya_ohota
storyline = false
prior = 55
repeat_timeout = 16200
precondition = false

title = val_smart_terrain_7_4_bandit_trader_stalker_task_1_name
descr = val_smart_terrain_7_4_bandit_trader_stalker_task_1_text
job_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_1_about
task_complete_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_1_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = monster, monster_predatory_day, monster_predatory_night, monster_vegetarian, monster_zombied_day, monster_zombied_night, monster_special
condlist_0 = {!task_giver_alive(val_smart_terrain_7_4_bandit_trader_stalker_task_1)} fail

on_job_descr = %=setup_assault_task(val_smart_terrain_7_4_bandit_trader_stalker_task_1)%
on_complete = %=reward_random_money(6500:8000) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(val_smart_terrain_7_4_bandit_trader_stalker_task_1) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_1) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_1)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_1) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_1)%

;------------------------------------------------
; Olivius (Bandit Trader) Eliminate Territorial Threat Task-

[val_smart_terrain_7_4_bandit_trader_stalker_task_2]

icon = ui_inGame2_Karti_mestnosti
storyline = false
prior = 65
repeat_timeout = 16200
precondition = {=validate_assault_task(val_smart_terrain_7_4_bandit_trader_stalker_task_2:2:1:nil:false:false:nil)} true, false

title = val_smart_terrain_7_4_bandit_trader_stalker_task_2_name
descr = val_smart_terrain_7_4_bandit_trader_stalker_task_2_text
job_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_2_about
task_complete_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_2_finish

stage_complete = 1
target_functor = assault_task_target_functor
status_functor = assault_task_status_functor
status_functor_params = bandit
condlist_0 = {!task_giver_alive(val_smart_terrain_7_4_bandit_trader_stalker_task_2)} fail

on_job_descr = %=setup_assault_task(val_smart_terrain_7_4_bandit_trader_stalker_task_2)%
on_complete = %=reward_random_money(8000:9000) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(val_smart_terrain_7_4_bandit_trader_stalker_task_2) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_2) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_2)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_2) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_2)%

;------------------------------------------------
; Olivius (Bandit Trader) Dark Valley Raiders Task-
; Disabled
[val_smart_terrain_7_4_bandit_trader_stalker_task_3]

icon = ui_inGame2_PD_Lider
storyline = false
prior = 75
repeat_timeout = 16200
precondition = false

title = val_smart_terrain_7_4_bandit_trader_stalker_task_3_name
descr = val_smart_terrain_7_4_bandit_trader_stalker_task_3_text
job_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_3_about
task_complete_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_3_finish

target_functor = val_smart_terrain_7_4_bandit_trader_stalker_task_target_1
condlist_0 = {!squad_exist(bandit_companion_task_1)} fail
condlist_1 = {!task_giver_alive(val_smart_terrain_7_4_bandit_trader_stalker_task_3)} fail

on_init = %=setup_companion_task(bandit_companion_task_1:val_smart_terrain_7_4) -bandit_companion_task_1_started -bandit_companion_task_1_force_started%
on_complete = %=reward_random_money(7500:8500) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =remove_special_task_squad(bandit_companion_task_1) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_3) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_3)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =remove_special_task_squad(bandit_companion_task_1) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_3) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_3)%

;------------------------------------------------
; Olivius (Bandit Trader) Hit Man Task-

[val_smart_terrain_7_4_bandit_trader_stalker_task_4]

icon = ui_inGame2_Odin_vistrel
storyline = false
prior = 45
repeat_timeout = 16200
;precondition = true

title = val_smart_terrain_7_4_bandit_trader_stalker_task_4_name
descr = val_smart_terrain_7_4_bandit_trader_stalker_task_4_text
job_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_4_about
task_complete_descr = val_smart_terrain_7_4_bandit_trader_stalker_task_4_finish

stage_complete = 1
target_functor = general_bounty_task
status_functor = bounty_task
condlist_0 = {!task_giver_alive(val_smart_terrain_7_4_bandit_trader_stalker_task_4)} fail

on_job_descr = %=setup_bounty_task(val_smart_terrain_7_4_bandit_trader_stalker_task_4:true:false:bandit)%
on_complete = %=reward_random_money(7500:8500) =reward_stash(true) =complete_task_inc_goodwill(50:bandit) =inc_task_stage(val_smart_terrain_7_4_bandit_trader_stalker_task_4) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_4) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_4)%
on_fail = %=fail_task_dec_goodwill(25:bandit) =drx_sl_unregister_task_giver(val_smart_terrain_7_4_bandit_trader_stalker_task_4) =drx_sl_reset_stored_task(val_smart_terrain_7_4_bandit_trader_stalker_task_4)%

; \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
