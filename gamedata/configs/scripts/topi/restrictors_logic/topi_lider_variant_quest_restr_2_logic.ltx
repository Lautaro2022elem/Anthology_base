[logic]
active = ph_idle@full_locked_1

[ph_idle@full_locked_1]
nonscript_usable = false
tips = zat_b12_conteiner_full_locked
on_info = {+topi_lider_variant_quest_talking_3} ph_idle@full_locked

[ph_idle@full_locked]
nonscript_usable = false
tips = zat_b12_conteiner_full_locked
on_info = {=actor_has_item(topi_b12_key_1) =actor_has_item(topi_b12_key_2)} ph_idle@has_two_key, {=actor_has_item(topi_b12_key_1) !actor_has_item(topi_b12_key_2)} ph_idle@has_one_key, {=actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@has_one_key
on_info2 = {+mar_kardan_cont_1_open} ph_idle@open, {+mar_kardan_one_lock_open} ph_idle@locked
on_use = {-mar_kardan_quest_1_find_to_open !actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} %+mar_kardan_quest_1_find_to_open =spawn_object_in(topi_lider_copromat_1:mar_kardan_quest_container_id) =give_task(geonezis_topi_lider_variant_quest_1) =give_task(geonezis_topi_lider_variant_quest_2)%

[ph_idle@has_one_key]
nonscript_usable = false
tips = zat_b12_conteiner_has_one_key
on_use = {=actor_has_item(topi_b12_key_1) !actor_has_item(topi_b12_key_2)} ph_idle@locked %=remove_item(topi_b12_key_1) =play_sound(power_switch) +mar_kardan_one_lock_open%, {=actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@locked %=remove_item(topi_b12_key_2) =play_sound(power_switch) +mar_kardan_one_lock_open%
on_info = {=actor_has_item(topi_b12_key_1) =actor_has_item(topi_b12_key_2)} ph_idle@has_two_key, {!actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@full_locked
on_info2 = {+mar_kardan_cont_1_open} ph_idle@open, {+mar_kardan_one_lock_open} ph_idle@locked

[ph_idle@locked]
nonscript_usable = false
tips = zat_b12_conteiner_locked
on_info = {=actor_has_item(topi_b12_key_1) !actor_has_item(topi_b12_key_2)} ph_idle@locked_has_second_key, {=actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@locked_has_second_key
on_info2 = {+mar_kardan_cont_1_open} ph_idle@open

[ph_idle@locked_has_second_key]
nonscript_usable = false
tips = zat_b12_conteiner_has_one_key
on_use = {=actor_has_item(topi_b12_key_1) !actor_has_item(topi_b12_key_2)} ph_idle@open %=remove_item(topi_b12_key_1) =play_sound(power_switch) +mar_kardan_cont_1_open%, {=actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@open %=remove_item(topi_b12_key_2) =play_sound(power_switch) +mar_kardan_cont_1_open%
on_info = {!actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@locked
on_info2 = {+mar_kardan_cont_1_open} ph_idle@open

[ph_idle@has_two_key]
nonscript_usable = false
tips = zat_b12_conteiner_has_two_key
on_use = {=actor_has_item(topi_b12_key_1) =actor_has_item(topi_b12_key_2)} ph_idle@open %=play_sound(power_switch) =remove_item(topi_b12_key_1) =remove_item(topi_b12_key_2) +mar_kardan_cont_1_open%
on_info = {=actor_has_item(topi_b12_key_1) !actor_has_item(topi_b12_key_2)} ph_idle@has_one_key, {=actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@has_one_key, {!actor_has_item(topi_b12_key_2) !actor_has_item(topi_b12_key_1)} ph_idle@full_locked
on_info2 = {+mar_kardan_cont_1_open} ph_idle@open

[ph_idle@open]
nonscript_usable = true
tips = zat_b12_conteiner_open
on_info = {-mar_kardan_cont_1_open} %+mar_kardan_cont_1_open%
